@model Laboratorio1AdmonTIC.ViewModels.DetallesCviewModel;

@{
    ViewData["Title"] = "Details";
}



<div class="card">
    <div class="card-body">
        <h4 class="card-title">Compra</h4>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                Compra Id:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Compra.CompraId)
            </dd>
            <dt class="col-sm-2">
                Proveedor:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Compra.Proveedor)
            </dd>
            <dt class="col-sm-2">
                Empleado:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Compra.Empleado)
            </dd>
            <dt class="col-sm-2">
                Fecha de Compra:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Compra.FechaCompra)
            </dd>
            <dt class="col-sm-2">
                Total:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Compra.Total)
            </dd>
        </dl>

        <div class="row">
            <div class="col-12">
                <div class="table-responsive">
                    <table class="table" id="tablaDetalles">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Cantidad</th>
                                <th>Precio Unitario</th>
                                <th>Subtotal</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < Model.Detalles.Count; i++)
                            {
                                var item = Model.Detalles[i];
                                <tr>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Producto)
                                        <input type="hidden" name="Detalles[@i].productoId" value="@item.productoId" />
                                        @* <input type="hidden" name="DetallesCompras[@i].nombreProducto" value="@item.Producto" /> *@
                                    </td>
                                    <td>
                                        @item.Cantidad
                                        <input type="hidden" name="Detalles[@i].Cantidad" value="@item.Cantidad" />
                                    </td>
                                    <td>
                                        @item.PrecioUnitario
                                        <input type="hidden" name="Detalles[@i].PrecioUnitario" value="@item.PrecioUnitario" />
                                    </td>
                                    <td>
                                        @item.Total
                                        <input type="hidden" name="Detalles[@i].Total" value="@item.Total" />
                                    </td>


                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div>
            @* <a class="btn btn-inverse-info btn-fw me-2" asp-action="Edit" asp-route-id="@Model?.CompraId">Editar</a> *@
            @* <a class="btn btn-inverse-secondary btn-fw" asp-action="Index">Regresar</a> *@
        </div>
    </div>
</div>
